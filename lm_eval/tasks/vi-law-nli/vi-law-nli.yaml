# tag:
#   - legal
#   - vietnamese
# task: vi-law-nli

# # dataset offline từ JSONL
# dataset_path: json
# dataset_name: null
# dataset_kwargs:
#   data_files:
#     test: ./lm_eval/data/vi-law-nli.jsonl

# training_split: null
# fewshot_split: test
# test_split: test

# output_type: multiple_choice

# # Cách hiển thị prompt
# doc_to_text: |-
#   Văn bản pháp lý:
#   {{ legal_document }}

#   Câu hỏi cụ thể: {{ specific_question }}
#   Câu hỏi: {{ question }}

#   Trả lời câu sau đây:
#   "Điều luật được cung cấp có thể dùng để trả lời câu hỏi trên hay không?"
#   A. Có
#   B. Không
#   Hãy trả lời A hoặc B:

# # Map lựa chọn và đáp án đúng
# doc_to_choice: ["A", "B"]
# doc_to_target: "{{ ['A','B'][answer] }}"

# metric_list:
#   - metric: acc
#     aggregation: mean
#     higher_is_better: true

# # Ép model trả lời ngắn gọn, quyết định
# generation_kwargs:
#   do_sample: false
#   temperature: 0.0


tag:
  - legal
  - vietnamese
task: vi-law-nli

# dataset offline từ JSONL (tách file few-shot và test)
dataset_path: json
dataset_name: null
dataset_kwargs:
  data_files:
    train: ./lm_eval/data_fewshot/vi-law-nli.jsonl   # <= file few-shot riêng
    test:  ./lm_eval/data/vi-law-nli.jsonl

training_split: null
fewshot_split: train    # Lấy few-shot từ file train
test_split: test
num_fewshot: 8          # số ví dụ few-shot (có thể override bằng CLI)

output_type: multiple_choice

# Prompt hiển thị cho mỗi câu hỏi
doc_to_text: |-
  Văn bản pháp lý:
  {{ legal_document }}

  Câu hỏi cụ thể: {{ specific_question }}
  Câu hỏi: {{ question }}

  Trả lời:
  A. Có
  B. Không
  Hãy trả lời "Có" hoặc "Không":

# Lựa chọn và đáp án đúng (theo chữ)
doc_to_choice: ["Có", "Không"]
doc_to_target: "{{ ['Có', 'Không'][answer] }}"

metric_list:
  - metric: acc
    aggregation: mean
    higher_is_better: true

# Ép model trả lời ngắn gọn
generation_kwargs:
  do_sample: false
  temperature: 0.0
  max_new_tokens: 3
